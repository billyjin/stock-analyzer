# S&P 400 주식 분석기 📈

S&P 400 기업을 중심으로 10개 주요 섹터, 80+ 대표 기업의 주가 데이터를 분석하고 시각화하는 웹 애플리케이션입니다.

## 🚀 기능

### 1. **두 가지 분석 모드**
- **섹터별 분석**: 농업 관련 섹터를 선택하여 해당 섹터 주식들을 분석
- **개별 주식 검색**: 특정 주식을 직접 선택하거나 티커를 입력하여 분석

### 2. **다양한 차트 표시 방식**
- **실주가**: 실제 주가로 표시
- **정규화**: 시작점을 100으로 설정하여 상대적 수익률 비교
- **Min-Max 스케일링**: 0-1 범위로 스케일링하여 변동 패턴 비교

### 3. **고급 스케일링 기능**
- 전체 기간 기준 스케일링
- 특정 구간 기준 스케일링 (사용자 지정 날짜 범위)
- 스케일링 공식: `(현재주가 - 구간최소주가) / (구간최대주가 - 구간최소주가)`

### 4. **포함된 섹터 및 주식 (S&P 400 기업 위주)**

#### 🌾 농업/식품 (8개)
DE, CNHI, ADM, BG, GIS, K, TSN, CTVA

#### 🏭 산업/제조 (8개)
CAT, HON, MMM, GE, LMT, RTX, UPS, FDX

#### 🛒 소비재 (8개)
PG, KO, PEP, WMT, TGT, HD, LOW, NKE

#### 🏥 헬스케어 (8개)
JNJ, PFE, ABT, MRK, UNH, CVS, WBA, GILD

#### 💻 기술 (8개)
AAPL, MSFT, GOOGL, AMZN, META, NVDA, CRM, ADBE

#### 🏦 금융 (8개)
JPM, BAC, WFC, GS, MS, AXP, V, MA

#### ⚡ 에너지 (8개)
XOM, CVX, COP, SLB, EOG, PXD, KMI, OKE

#### 🏠 부동산/REIT (8개)
AMT, PLD, CCI, EQIX, PSA, EXR, AVB, EQR

#### 🔌 유틸리티 (8개)
NEE, DUK, SO, D, EXC, XEL, SRE, AEP

#### 📱 통신 (8개)
T, VZ, TMUS, CHTR, CMCSA, VIA, DISH, LUMN

## 💻 설치 및 실행

### 1. 환경 설정
```bash
# 가상환경 생성 (선택사항)
python -m venv venv

# 가상환경 활성화
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# 필요한 라이브러리 설치
pip install -r requirements.txt
```

### 2. 웹앱 실행
```bash
# Streamlit 웹앱 실행
streamlit run stock_webapp.py

# 또는 기본 콘솔 프로그램 실행
python stockEval.py
```

### 3. 브라우저에서 접속
웹앱 실행 후 브라우저에서 `http://localhost:8501` 접속

## 📊 사용법

### 사이드바 설정
1. **분석 모드 선택**: 섹터별 분석 또는 개별 주식 검색
2. **주식/섹터 선택**: 분석할 대상 선택
3. **분석 기간 설정**: 1년, 2년, 5년, 10년, 전체 기간 중 선택
4. **차트 표시 방식**: 실주가, 정규화, Min-Max 스케일링 중 선택
5. **스케일링 옵션**: 특정 구간 기준 스케일링 설정 (선택사항)

### 주요 기능
- **인터랙티브 차트**: 확대, 축소, 범례 클릭을 통한 상세 분석
- **성과 지표**: 총 수익률, 연간 수익률, 변동성 표시
- **섹터별 상세 분석**: 각 섹터별 개별 차트 및 지표
- **커스텀 티커 입력**: 원하는 주식 티커를 직접 입력하여 분석

## 🔧 기술 스택

- **Python 3.8+**
- **Streamlit**: 웹 애플리케이션 프레임워크
- **yfinance**: 실시간 주가 데이터 수집
- **Plotly**: 인터랙티브 차트 생성
- **Pandas**: 데이터 처리 및 분석
- **NumPy**: 수치 계산

## 📈 Min-Max 스케일링 공식

```
스케일값 = (특정일주가 - 지정구간Min주가) / (지정구간Max주가 - 지정구간Min주가)
```

이 공식을 통해 모든 주식의 가격 변동을 0-1 범위로 정규화하여 상대적 패턴을 쉽게 비교할 수 있습니다.

## 💡 팁

1. **데이터 캐싱**: 데이터는 1시간 동안 캐시되어 빠른 재조회 가능
2. **인터랙티브 차트**: 범례 클릭으로 특정 주식 숨기기/보이기 가능
3. **모바일 지원**: 반응형 디자인으로 모바일에서도 사용 가능
4. **실시간 데이터**: Yahoo Finance를 통한 실시간 주가 데이터 제공

## 🚀 배포

### Streamlit Cloud 배포
1. GitHub에 코드 업로드
2. [Streamlit Cloud](https://streamlit.io/cloud) 접속
3. GitHub 저장소 연결하여 자동 배포

### 로컬 네트워크 공유
```bash
streamlit run stock_webapp.py --server.address 0.0.0.0
```

## 📄 라이선스

이 프로젝트는 개인적 사용 및 학습 목적으로 만들어졌습니다.

---
**주의사항**: 이 도구는 투자 조언을 제공하지 않으며, 모든 투자 결정은 사용자 본인의 책임입니다.
